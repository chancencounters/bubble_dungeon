{"version":3,"sources":["webpack:///webpack/bootstrap a721ce4e211550af83f9","webpack:///./lib/bubble_pitcher.js","webpack:///./lib/bubble.js","webpack:///./lib/constants.js","webpack:///./lib/game.js","webpack:///./lib/gun.js"],"names":["Bubble","require","Game","document","addEventListener","canvas","getElementById","window","stage","createjs","Stage","game","start","updateTicker","update","Ticker","setFPS","Constants","pos","givenColor","x","y","xCoefficient","shot","colors","blue","red","yellow","green","createBubble","forEach","color","Math","floor","random","length","bubble","Sprite","sheet","angle","toRadians","sin","cos","move","PI","module","exports","rows","cols","rowHeight","rowWidth","radius","bubbleHeight","bubbleWidth","SpriteSheet","framerate","evenDeltas","oddDeltas","Gun","bubbles","gun","checkCollisions","renderBubbles","createBoard","addChild","currentBubble","dx","dy","distance","sqrt","allBubbles","checkCollision","stop","snapBubble","updateCurrentBubble","boardPosition","getBoardPosition","row","col","bubbleCoords","getBubbleCoords","neighbors","bubbleNeighbors","flatBubbles","concat","apply","bubblex","bubbley","grid","deltas","i","deltax","deltay","push","createGun","handleRotation","bind","handleShoot","setProjectile","bindKeyHandlers","event","code","keyCode","preventDefault","rotation","shoot","fire","Boolean","removeChild","img","Image","src","Bitmap","gunContainer","Container","regX","regY"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a721ce4e211550af83f9","const Bubble = require(\"./bubble\");\nconst Game = require(\"./game\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  const canvas = document.getElementById(\"canvas\");\n  window.stage = new createjs.Stage(canvas);\n  const game = new Game(window.stage);\n\n  game.start();\n  const updateTicker = () => {\n    game.update();\n    window.stage.update();\n  };\n  createjs.Ticker.setFPS(60);\n  createjs.Ticker.addEventListener('tick', updateTicker);\n\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bubble_pitcher.js","import * as Constants from \"./constants\";\n\nclass Bubble {\n  constructor(pos, givenColor = false) {\n    this.x = pos.x;\n    this.y = pos.y;\n    this.xCoefficient = 1;\n    this.shot = false;\n    this.colors = [Constants.blue, Constants.red, Constants.yellow, Constants.green];\n    this.createBubble(givenColor);\n  }\n\n  createBubble(givenColor) {\n    if (givenColor) {\n      this.colors.forEach(color => {\n        if (color.color === givenColor) {\n          this.color = color;\n        }\n      });\n    } else {\n      this.color = this.colors[Math.floor(Math.random() * this.colors.length)];\n    }\n\n    this.bubble = new createjs.Sprite(this.color.sheet, \"animate\");\n    this.bubble.x = this.x;\n    this.bubble.y = this.y;\n  }\n\n  move() {\n    //makes sure the projectile bounces off walls\n    if (this.bubble.x < 0) {\n      this.xCoefficient *= -1;\n    } else if (this.bubble.x > 570) {\n      this.xCoefficient *= -1;\n    }\n\n    let angle = this.toRadians(-1 * (this.angle + 180));\n\n    this.bubble.x += this.xCoefficient * 5 * Math.sin(angle);\n    this.bubble.y += 5 * Math.cos(angle);\n  }\n\n  fire(angle) {\n    this.shot = true;\n    this.angle = angle;\n  }\n\n  update() {\n    if (this.shot === true) {\n      this.move();\n    } else {\n      return;\n    }\n  }\n\n  stop() {\n    this.shot = false;\n  }\n\n  toRadians (angle) {\n    return angle * (Math.PI / 180);\n  }\n}\n\nmodule.exports = Bubble;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bubble.js","export const rows = 16;\nexport const cols = 7;\nexport const rowHeight = 30;\nexport const rowWidth = 34;\nexport const radius = 16;\nexport const bubbleHeight = 32;\nexport const bubbleWidth = 32;\n\nexport const blue = {\n  color: \"blue\",\n  sheet: new createjs.SpriteSheet({\n    framerate: 30,\n    \"images\": [\"./assets/images/blue-bubble.png\"],\n    \"frames\": {\n      \"regX\": 0,\n      \"regY\": 0,\n      \"width\": 32,\n      \"height\": 32,\n      \"count\": 6\n    },\n    \"animations\": {\n      \"animate\": [0, 5, \"animate\", .15],\n    }\n  })\n};\n\nexport const yellow = {\n  color: \"yellow\",\n  sheet: new createjs.SpriteSheet({\n    framerate: 30,\n    \"images\": [\"./assets/images/yellow-bubble.png\"],\n    \"frames\": {\n      \"regX\": 0,\n      \"regY\": 0,\n      \"width\": 32,\n      \"height\": 32,\n      \"count\": 6\n    },\n    \"animations\": {\n      \"animate\": [0, 5, \"animate\", .15],\n    }\n  })\n};\n\nexport const red = {\n  color: \"red\",\n  sheet: new createjs.SpriteSheet({\n    framerate: 30,\n    \"images\": [\"./assets/images/red-bubble.png\"],\n    \"frames\": {\n      \"regX\": 0,\n      \"regY\": 0,\n      \"width\": 32,\n      \"height\": 32,\n      \"count\": 6\n    },\n    \"animations\": {\n      \"animate\": [0, 5, \"animate\", .15],\n    }\n  })\n};\n\nexport const green = {\n  color: \"green\",\n  sheet: new createjs.SpriteSheet({\n    framerate: 30,\n    \"images\": [\"./assets/images/green-bubble.png\"],\n    \"frames\": {\n      \"regX\": 0,\n      \"regY\": 0,\n      \"width\": 32,\n      \"height\": 32,\n      \"count\": 6\n    },\n    \"animations\": {\n      \"animate\": [0, 5, \"animate\", .15],\n    }\n  })\n};\n\nexport const evenDeltas = [[-1,-1], [-1,0], [0,-1], [0, 1], [1,-1], [1,0]];\nexport const oddDeltas = [[-1,0], [-1,1], [0,-1], [0, 1], [1,0], [1,1]];\n\n\n\n// WEBPACK FOOTER //\n// ./lib/constants.js","const Bubble = require(\"./bubble\");\nconst Gun = require(\"./gun\");\nimport * as Constants from \"./constants\";\n\nclass Game {\n  constructor(stage) {\n    this.bubbles = [];\n  }\n\n  update() {\n    this.gun.update();\n    this.checkCollisions();\n    this.renderBubbles();\n  }\n\n  start() {\n    this.createBoard();\n    this.renderBubbles();\n    this.gun = new Gun();\n    window.stage.addChild(this.gun.gun);\n  }\n\n  checkCollision(bubble, currentBubble) {\n    const dx = bubble.x - currentBubble.bubble.x;\n    const dy = bubble.y - currentBubble.bubble.y;\n    const distance = Math.sqrt(dx * dx + dy * dy);\n\n    if (distance < 32) return true;\n\n    return false;\n  }\n\n  checkCollisions() {\n    this.allBubbles().forEach((bubble) => {\n      if (this.checkCollision(bubble.bubble, this.gun.currentBubble)) {\n        this.gun.currentBubble.stop();\n        this.snapBubble();\n        this.gun.updateCurrentBubble();\n      }\n    });\n  }\n\n  snapBubble() {\n    const boardPosition = this.getBoardPosition(this.gun.currentBubble);\n    const row = boardPosition.row;\n    const col = boardPosition.col;\n    const bubbleCoords = this.getBubbleCoords(row, col);\n    this.gun.currentBubble.bubble.x = (bubbleCoords.x);\n    this.gun.currentBubble.bubble.y = (bubbleCoords.y);\n    this.bubbles[row][col] = this.gun.currentBubble;\n    const neighbors = this.bubbleNeighbors(this.bubbles[row][col]);\n  }\n\n  allBubbles() {\n    let flatBubbles = [].concat.apply([], this.bubbles);\n    return flatBubbles;\n  }\n\n  createBoard() {\n    for (let row = 0; row < Constants.rows; row++) {\n      this.bubbles[row] = [];\n      for (let col = 0; col < Constants.cols; col++) {\n        this.bubbles[row][col] = new Bubble(this.getBubbleCoords(row, col));\n      }\n    }\n  }\n\n  getBoardPosition(bubble) {\n    const row = Math.floor(bubble.bubble.x / Constants.rowWidth);\n    const col = Math.floor(bubble.bubble.y / Constants.rowHeight);\n\n    return { row: row, col: col };\n  }\n\n  getBubbleCoords(row, col) {\n    let bubblex = (row * Constants.rowWidth) + Constants.radius;\n    let bubbley = (col * Constants.rowHeight) + Constants.radius;\n\n    if (col % 2 === 0) {\n      bubblex += Constants.rowHeight / 2;\n    }\n\n    return { x: bubblex, y: bubbley };\n  }\n\n  renderBubbles() {\n    this.allBubbles().forEach(bubble => {\n      window.stage.addChild(bubble.bubble);\n    });\n  }\n\n  bubbleNeighbors(bubble) {\n    let grid = this.getBoardPosition(bubble);\n    const neighbors = [];\n\n    const deltas = grid.row % 2 === 1 ? Constants.oddDeltas : Constants.evenDeltas;\n\n    for (let i = 0; i < deltas.length; i++) {\n      let deltax = grid.row + deltas[i][1];\n      let deltay = grid.col + deltas[i][0];\n      if (deltax >= 0 && deltax < Constants.rows && deltay >= 0 && deltay < Constants.cols) {\n        if (this.bubbles[deltax][deltay]){\n          neighbors.push(this.bubbles[deltax][deltay]);\n        }\n      }\n    }\n    return neighbors;\n  }\n}\n\nmodule.exports = Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","const Bubble = require(\"./bubble\");\n\nclass Gun {\n  constructor (){\n    this.gun = this.createGun();\n    this.handleRotation = this.handleRotation.bind(this);\n    this.handleShoot = this.handleShoot.bind(this);\n\n    this.setProjectile();\n    this.bindKeyHandlers();\n  }\n\n  bindKeyHandlers(){\n    document.addEventListener(\"keydown\", this.handleRotation);\n    document.addEventListener(\"keypress\", this.handleShoot);\n  }\n\n  update() {\n    this.currentBubble.update();\n  }\n\n  handleRotation(event) {\n    const code = event.keyCode;\n\n    if (code === 37 || code === 65){\n      event.preventDefault();\n      if (this.gun.rotation > -85) this.gun.rotation -= 2.5;\n    } else if (code === 39 || code === 68){\n      event.preventDefault();\n      if (this.gun.rotation < 85) this.gun.rotation += 2.5;\n    }\n  }\n\n  handleShoot(event) {\n    const code = event.keyCode;\n\n    if (code === 32 || code === 13) {\n      this.shoot();\n    }\n  }\n\n  shoot() {\n    this.currentBubble.fire(this.gun.rotation);\n  }\n\n  updateCurrentBubble() {\n    if (Boolean(this.currentBubble)) {\n      window.stage.removeChild(this.currentBubble.bubble);\n    }\n\n    const pos = { x: 280, y: 455 };\n    const bubble = new Bubble(pos);\n    this.currentBubble = bubble;\n    window.stage.addChild(this.currentBubble.bubble);\n  }\n\n  createGun(){\n    const img = new Image();\n    img.src = \"./assets/images/gun.png\";\n    const gun = new createjs.Bitmap(img);\n\n    const gunContainer = new createjs.Container();\n    gunContainer.x = 290;\n    gunContainer.y = 460;\n    gun.regX = 11.5;\n    gun.regY = 40.5;\n    gun.x = 0;\n    gun.y = 0;\n    gunContainer.addChild(gun);\n    return gunContainer;\n  }\n}\n\nmodule.exports = Gun;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/gun.js"],"sourceRoot":""}